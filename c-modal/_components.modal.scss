//--------------------------------------------------------------------------------------------------------------------------------------
// MODALS
//--------------------------------------------------------------------------------------------------------------------------------------

/*
Component classes for modals
*/

/*
<div class="c-modal">
	<div class="c-modal__inner">
		<div class="c-modal__background"></div>
		<div class="c-modal__box">
			<div class="c-modal__content">
				<!-- Modal Content Gets Injected Here -->
			</div>
			<div class="c-modal__close">
				<!-- Example Close Icon -->
				<svg class="c-icon c-icon--close-small"><use xlink:href="#icon-close"/></svg>
			</div>
		</div>
	</div>
</div>
*/


// BASE & ELEMENTS
//--------------------------------------------------------------------------------------------------------------------------------------

/*
[1] Use same max-width as container object from OrionCSS so modal doesn't get wider than content.
[2] Move vertical scrollbar out of view on Windows browsers
*/

.c-modal {
	position:absolute;
	display:table;
	z-index:-1;
	left:0;
	top:rem(-9999px);
	height:0;
	width:0;
	overflow:hidden;
	opacity:0;
	text-align:center;
}

.c-modal__inner {
	display:table-cell;
	vertical-align:middle;
	overflow:scroll;
}

.c-modal__box {
	width:calc(100% - 30px);
	background:#ffffff;
	display:inline-block;
	position:relative;
	top:rem(-30px);
	transition:top 0.5s;
	box-shadow: 0 0 rem(10px) rgba(0,0,0,0.5);
}

.c-modal__background {
	background-color:rgba(0, 0, 0, 0.75);
	position:absolute;
	width:100%;
	height:100%;
	top:0;
	left:0;
}

.c-modal__content {
	@include clearfix();
	text-align:left;
	overflow:scroll;
	overflow-x:hidden;
	box-sizing:content-box; /* [2] */
	padding-right:rem(50px); /* [2] */
}	

.c-modal__close {
	width:rem(36px);
	height:rem(36px);
	position:absolute;
	right:rem(10px);
	top:rem(10px);
	cursor:pointer;
}

@include bpMax(md) {	
	.c-modal__box {
		margin:rem(15px) 0;
	}

	.c-modal__content {
		max-height:calc(90vh - 30px);
	}
}

@include bp(lg) {
	.c-modal__box {
		max-width:rem(1170px); /* [1] */
	}
}


// ACTIVE STATEFUL MODIFIER
//--------------------------------------------------------------------------------------------------------------------------------------

.c-modal.is-active {
	opacity:1;
	position:fixed;
	top:0;
	width:100%;
	height:100vh;
	z-index:50;
	overflow:auto;
	& .c-modal__box {
		top:0;
	}
}

body.showing-modal {
	position:fixed;
	top: 0;
	left: 0;
	right: 0;
}